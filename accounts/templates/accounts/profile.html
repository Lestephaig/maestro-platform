<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Личный кабинет</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 40px auto; padding: 20px; }
        .info { background: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
        .status { font-weight: bold; }
        .verified { color: green; }
        .not-verified { color: orange; }
        .actions a { display: inline-block; margin-right: 15px; color: #007bff; text-decoration: none; }
        .actions a:hover { text-decoration: underline; }
    </style>
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
</head>
<body>
    <h1>Личный кабинет</h1>

    <div class="info">
        <p><strong>Имя пользователя:</strong> {{ user.username }}</p>
        <p><strong>Email:</strong> {{ user.email }}</p>

        {% if user.performer_profile %}
            <p><strong>Тип аккаунта:</strong> Исполнитель</p>
        {% elif user.client_profile %}
            <p><strong>Тип аккаунта:</strong> Заказчик</p>
        {% endif %}

        <p class="status">
            Статус верификации:
            {% if user.is_verified %}
                <span class="verified">✅ Одобрен</span>
            {% else %}
                <span class="not-verified">⏳ Ожидает модерации</span>
            {% endif %}
        </p>
    </div>

    <!-- Динамический контент (просмотр или редактирование) -->
    <div id="profile-content">
        {% include 'accounts/_profile_content.html' %}
    </div>

    <div class="actions">
        <a href="{% url 'admin:index' %}" target="_blank">Админка (для модераторов)</a>
        <form method="post" action="{% url 'logout' %}" style="display: inline;">
            {% csrf_token %}
            <button type="submit" style="background: none; border: none; color: #007bff; cursor: pointer; text-decoration: underline;">
                Выйти
            </button>
        </form>
    </div>
</body>
</html>